<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Opgave | ' + ${task.title}">Opgave</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark">
    <link th:href="@{/css/pico.pink.min.css}" rel="stylesheet">
    <link th:href="@{/css/main.css}" rel="stylesheet">
</head>
<body>
<div th:replace="~{fragments/header :: header}">...</div>

<main class="container-fluid">
    <th:block th:replace="~{fragments/task_nav :: taskNav(${task})}">...</th:block>

    <article th:if="${moveSuccessMessage}" style="border-left: 4px solid #28a745;">
        ✓ <span th:text="${moveSuccessMessage}"></span>
    </article>

    <article th:if="${moveErrorMessage}" style="border-left: 4px solid #dc3545;">
        ⚠ <span th:text="${moveErrorMessage}"></span>
    </article>

    <section>
        <p><strong>Status:</strong> <span th:text="${task.status.statusName}">Status</span></p>
        <p><strong>Startdato:</strong> <span th:text="${#temporals.format(task.startDate)}">Start</span></p>
        <p><strong>Slutdato:</strong> <span th:text="${#temporals.format(task.endDate)}">End</span></p>
        <p><strong>Varighed:</strong> <span th:text="${task.getBusinessDays()  + ' arbejdsdage'}">Business Days</span></p>
        <p><strong>Estimerede timer:</strong> <span th:text="${task.getEstimatedHours()}">Estimated</span></p>
        <p><strong>Faktiske timer:</strong> <span th:text="${task.getActualHours()}">Actual</span></p>

        <h3>Beskrivelse</h3>
        <article th:text="${task.description}">Task description</article>
    </section>

    <section th:unless="${task.subTasks.isEmpty()}">
        <h3>Underopgaver</h3>
        <div th:replace="~{fragments/task_list :: recursiveList(${task.subTasks})}">...</div>
    </section>
</main>

<div th:replace="~{fragments/footer :: footer}">...</div>
</body>
</html>